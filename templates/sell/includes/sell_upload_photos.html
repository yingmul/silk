{% load upload_tags %}
{% load i18n %}
{% load thumbnail %}
{% load floppyforms %}

{% comment %}
The file upload form used as target for the file upload widget
form_step is needed as another variable as a workaround for sell_piece to pass in the step as a template variable
(note the / added in the end is necessary)
{% endcomment %}

<form id="fileupload" method="post" enctype="multipart/form-data" action={{ form_action }}{{ form_step }}/>

    {% csrf_token %}
    <!-- Redirect browsers with JavaScript disabled to the origin page -->
    <!--<noscript><input type="hidden" name="redirect" value="http://blueimp.github.io/jQuery-File-Upload/"></noscript>-->
    <!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload -->
    <div class="row fileupload-buttonbar">
        <div class="align-left col-md-6 col-md-offset-1 ">
            <!-- The fileinput-button span is used to style the file input field as button -->
            <span class="btn btn-primary fileinput-button">
                <span class="glyphicon glyphicon-upload"></span>
                <span>{% trans "Add Photos" %}</span>
                <input type="file" name="file" multiple>
            </span>
            <i>{% trans 'OR' %}</i>
            <span class="bold">{% trans "Drag and drop photos below" %}</span>
            <span>{% trans "(Maximum 6)" %}</span>
            <!-- The loading indicator is shown during file processing -->
            <span class="fileupload-loading"></span>
        </div>

        <div class="col-md-5 fileupload-progress fade">
            <!-- The global progress bar -->
            <div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar progress-bar-success" style="width:0%;"></div>
            </div>
            <!-- The extended global progress information -->
            <div class="progress-extended">&nbsp;</div>
        </div>
    </div>
    <div class="row">
        <div class="drag-area col-md-10 col-md-offset-1">
                <span class="glyphicon glyphicon-picture"></span>
                {% trans 'drag photos here' %}
        </div>
    </div>

    <!-- The div listing the files available for upload/download -->
    <div class="row">
        <div class="uploaded-files col-md-10 col-md-offset-1">
            <div class="files"></div>
        </div>
    </div>
</form>

{% upload_js %}
